var Base={PROTOTYPE:1,JQUERY:2,EXT:3,MOOTOOLS:4,framework:0,bind:function(){var c=arguments[0]||null;var d=arguments[1]||this;var b=0;var a=[];for(var b=0;b<arguments.length;b++){if(b>1){a[a.length]=arguments[b]}b++}return function(){return c.apply(d,a)}},_checkFramework:function(){if(typeof Prototype!="undefined"){Base.activeFramework=Base.PROTOTYPE;return}if(typeof jQuery!="undefined"){Base.activeFramework=Base.JQUERY;return}if(typeof Ext!="undefined"){Base.activeFramework=Base.EXT;return}if(typeof MooTools!="undefined"){Base.activeFramework=Base.MOOTOOLS;return}return 0},$:function(a){return document.getElementById(a)},show:function(a){document.getElementById(a).style.display=""},hide:function(a){document.getElementById(a).style.display="none"},setValue:function(a,b){document.getElementById(a).value=b},getValue:function(a){a=document.getElementById(a);if(a.tagName=="SELECT"){return a.options[a.selectedIndex].value}else{return a.value}}};var NumericField={maskNum:function(a){a=(a)?a:((window.event)?window.event:null);var b=a.keyCode;var c=(a.altKey==false)&&(a.shiftKey==false)&&((b>=48&&b<=57)||(b>=96&&b<=105)||(b==8)||(b==9)||(b==13)||(b==17)||(b==36)||(b==35)||(b==37)||(b==46)||(b==39)||(b==190));if(!c){a.preventDefault();a.stopPropagation();a.stopped=true}}};var DateField={refresh:function(a){var j=[31,28,31,30,31,30,31,31,30,31,30,31];var h=Base.getValue(a+"Year");var f=Base.getValue(a+"Month");var k=Base.getValue(a+"Day");var c=Base.$(a+"Day");var e="",b,g;Base.setValue(a,h+"-"+f+"-"+k);while(c.lastChild){c.removeChild(c.lastChild)}f=parseInt(f);g=j[f-1];if(f==2){if(parseInt(h)%4==0){g=29}}for(var d=1;d<=g;++d){b=(d<10)?"0"+d:d;if(b==k){e+='<option value="'+b+'" selected="selected">'+b+"</option>"}else{e+='<option value="'+b+'">'+b+"</option>"}}c.innerHTML=e}};var Utils={getKumbiaURL:function(a){if(typeof a=="undefined"){a=""}if($Kumbia.app!=""){return $Kumbia.path+$Kumbia.app+"/"+a}else{return $Kumbia.path+a}},redirectParentToAction:function(a){new Utils.redirectToAction(a,window.parent)},redirectOpenerToAction:function(a){new Utils.redirectToAction(a,window.opener)},redirectToAction:function(a,b){b=b?b:window;b.location=Utils.getKumbiaURL()+a}};function ajaxRemoteForm(b,a,c){if(c==undefined){c={}}new Ajax.Updater(a,b.action,{method:"post",asynchronous:true,evalScripts:true,onSuccess:function(d){$(a).update(d.responseText)},onLoaded:c.before!=undefined?c.before:function(){},onComplete:c.success!=undefined?c.success:function(){},parameters:Form.serialize(b)});return false}var AJAX={doRequest:function(d,c){var a=Base.activeFramework;if(typeof c=="undefined"){c={}}switch(a){case Base.PROTOTYPE:var e={before:"onLoading",success:"onSuccess",complete:"onComplete",error:"onFailure"};$H(e).each(function(h){if(typeof c[h[0]]!="undefined"){c[h[1]]=function(i,j){i.bind(this,j.responseText)()}.bind(this,c[h[0]])}});return new Ajax.Request(d,c);case Base.JQUERY:var f={method:"type",parameters:"data",asynchronous:"async"};$.each(f,function(h,i){if(typeof c[h]!="undefined"){c[i]=c[h]}});c.url=d;return $.ajax(c);case Base.EXT:var f={before:"beforerequest",error:"failure",parameters:"params"};var b;for(b in f){if(typeof c[b]!="undefined"){c[f[b]]=c[b]}}c.url=d;return Ext.Ajax.request(c);case Base.MOOTOOLS:var f={parameters:"data",asynchronous:"async",before:"onRequest",success:"onSuccess",error:"onFailure",complete:"onComplete"};var b;for(b in f){if(typeof c[b]!="undefined"){c[f[b]]=c[b]}}c.url=d;var g=new Request(c);g.send();return g;break}},update:function(b,c,a){if(typeof a=="undefined"){a={}}a.success=function(d){Base.$(c).innerHTML=d};Base.bind(a.success,c,c);return AJAX.doRequest(b,a)}};AJAX.xmlRequest=function(b){var a={};if(typeof b.url=="undefined"&&typeof b.action!="undefined"){a.url=Utils.getKumbiaURL(b.action)}return AJAX.doRequest(a.url,a)};AJAX.viewRequest=function(b){var a={};if(typeof b.url=="undefined"&&typeof b.action!="undefined"){a.url=Utils.getKumbiaURL(b.action)}container=b.container;a.evalScripts=true;if(!document.getElementById(container)){throw"CoreError: DOM Container '"+container+"' no encontrado";return null}return AJAX.update(container,url,a)};AJAX.execute=function(b){var a={};if(typeof b.url=="undefined"&&typeof b.action!="undefined"){a.url=Utils.getKumbiaURL(b.action)}return AJAX.doRequest(a.url,a)};AJAX.query=function(a){var b;new Ajax.Request(Utils.getKumbiaURL(a),{method:"GET",asynchronous:false,onSuccess:function(e){var c=e.responseXML;var d=c.getElementsByTagName("data");if(Prototype.Browser.IE){xmlValue=d[0].text}else{xmlValue=d[0].textContent}b=xmlValue}});return b};if(document.addEventListener){document.addEventListener("DOMContentLoaded",Base._checkFramework,false)}else{document.attachEvent("readystatechange",Base._checkFramework)};